{"version":3,"sources":["./src/app/login/login-routing.module.ts","./src/app/login/login.module.ts","./src/app/login/login.page.ts","./src/app/login/login.page.scss","./src/app/login/login.page.html"],"names":[],"mappings":"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","file":"src_app_login_login_module_ts-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LoginPage } from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LoginPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { LoginPageRoutingModule } from './login-routing.module';\nimport { LoginPage } from './login.page';\nimport { ReactiveFormsModule } from \"@angular/forms\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    LoginPageRoutingModule\n  ],\n  declarations: [LoginPage]\n})\nexport class LoginPageModule {}\n","import { Component, ContentChild, OnInit } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { LoadingService } from '../services/loading.service';\nimport { ToastController } from '@ionic/angular';\nimport {environment} from '../../environments/environment';\nimport { NavController } from '@ionic/angular';\nimport { Storage } from '@ionic/storage-angular';\nimport { FormBuilder, Validators } from \"@angular/forms\";\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss'],\n})\n\nexport class LoginPage implements OnInit {\n\n  user: any = {};\n\n  constructor(\n    private http: HttpClient,\n    private ls: LoadingService,\n    private toast: ToastController,\n    public navCtrl: NavController,\n    private storage: Storage,\n    private formBuilder: FormBuilder\n  ) { }\n\n  loginForm = this.formBuilder.group({\n    email:['', [Validators.required]],\n    password:['',[Validators.required]]\n  });\n\n  get email(){\n    return this.loginForm.get('email');\n  }\n\n  get password(){\n    return this.loginForm.get('password');\n  }\n\n  public errorMessages = {\n    email:[\n      { type: 'required', message: 'Email harus diisi'}\n    ],\n    password:[\n      { type: 'required', message: 'Password harus diisi'}\n    ]\n  }\n\n  async ngOnInit() {\n    const name = await this.storage.get('nama');\n    console.log(name);\n  }\n  async doLogin(){\n    await this.ls.present();\n    this.http.post(environment.baseUrl + 'auth/login.php', this.loginForm.value).subscribe(async (res: any) => {\n      await this.ls.dismiss();\n      await this.showToast(res.pesan);\n      if (res.error === false) {\n\n        await this.storage.set(environment.NAMA, res.hasil.nama);\n        await this.storage.set(environment.ID, res.hasil.id);\n        await this.storage.set(environment.PASSWORD, res.hasil.pass);\n        await this.storage.set(environment.ID_WILAYAH, res.hasil.id_wilayah);\n        await this.storage.set(environment.NAMA_WILAYAH, res.hasil.nama_wilayah);\n        await this.storage.set(environment.HARGA, res.hasil.harga);\n        await this.storage.set(environment.IS_LOGIN, true);\n\n        console.log(res.hasil.id);\n        console.log(res.hasil.nama);\n        console.log(res.hasil.password);\n        console.log(res.hasil.nama_wilayah);\n        console.log(res.hasil.harga);\n        console.log('id wilayah ' + res.hasil.id_wilayah);\n        console.log('isLogin : ' + await this.storage.get('isLogin'));\n        this.navCtrl.navigateRoot('/');\n      }\n    });\n  }\n\n  async showToast(str){\n    await this.toast.create({\n      message: str,\n      duration: 2000,\n      position: 'bottom',\n      buttons: [{\n        text: 'OK',\n        handler: () => {\n          console.log('OK Clicked');\n        }\n      }]\n    }).then(x => x.present());\n  }\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJsb2dpbi5wYWdlLnNjc3MifQ== */\";","export default \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <center><ion-title>LOGIN</ion-title></center>\\n\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"background\\\"  style=\\\"width: 100%\\\" [class.ion-padding]=\\\"20\\\">\\n\\n  <br>\\n  <br>\\n  <center>\\n    <ion-img style=\\\"width: 120px; height: 120px\\\" src=\\\"assets/icon/restaurant.png\\\"></ion-img>\\n  </center>\\n\\n  <br>\\n  <br>\\n  <br>\\n  <br>\\n  <form [formGroup]=\\\"loginForm\\\" (ngSubmit)=\\\"doLogin()\\\">\\n    <ion-item>\\n      <ion-label position=\\\"stacked\\\">Email</ion-label>\\n      <ion-input inputmode=\\\"text\\\" formControlName=\\\"email\\\"></ion-input>\\n    </ion-item>\\n    <div *ngFor=\\\"let error of errorMessages.email\\\">\\n      <ng-container *ngIf=\\\"email.hasError(error.type) && (email.dirty || email.touched)\\\">\\n        <center><small>{{ error.message }}</small></center>\\n      </ng-container>\\n    </div>\\n\\n    <ion-item>\\n      <ion-label position=\\\"stacked\\\">Password</ion-label>\\n      <ion-input type=\\\"password\\\" formControlName=\\\"password\\\"></ion-input>\\n    </ion-item>\\n    <div *ngFor=\\\"let error of errorMessages.password\\\">\\n      <ng-container *ngIf=\\\"password.hasError(error.type) && (password.dirty || password.touched)\\\">\\n        <center><small>{{ error.message }}</small></center>\\n      </ng-container>\\n    </div>\\n    <br>\\n    <br>\\n    <center>\\n      <ion-button [disabled]=\\\"!loginForm.valid\\\" expand=\\\"full\\\" type=\\\"submit\\\">Submit</ion-button>\\n    </center>\\n  </form>\\n</ion-content>\\n\";"],"sourceRoot":"webpack:///"}